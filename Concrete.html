<!DOCTYPE HTML>
<!--
	Zohaib Aftab, Data Scientist
	zohaibdr.github.io | 
	To showcase my projects
-->
<html>
	<head>
		<title>Project: Concrete </title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

		<!-- for math equations  -->
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

		<!-- To stop images from overflowing  -->
		<style>
			img{
				max-width: 90%;  
				display: block; /* remove extra space below image */
			}
		</style>

	</head>

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">Home</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">back to Projects</a></li>
							<li><a href="resume.html">Resumé</a></li>
							<li><a href="elements.html">Published works</a></li>
						</ul> 
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
		<section class="post">
			<header class="major">
				<h1> The Concrete Compression Conundrum </h1>
			</header>

			Tags: 
				Multivariate Analysis &bull; Feature Engineering 
				<hr />
				
				<ul class="actions">
					<li><a target = "_blank" href="https://github.com/zohaibdr/DSportfolio_" class="button primary">Python Code Here</a></li>
				</ul>
			<!-- <header> -->
				<h2> Context </h2>
				<p>Concrete is the most widely used building material in the world. It is a mix of cement and water with gravel and sand. It can also include other materials like fly ash, blast furnace slag, and additives. Predicting its strength from these ingredients is a difficult task, as each ingredient can have an effect on the strength of the concrete.</p>

				<p> <img src="images/concrete/mix.png" alt=""> </p>



				<p><strong>Machine Learning can help find the optimal recipe of ingredients and predict the strength properties of the concrete</strong>. All we need is experimental data to train our machine learning model.</p>
				<p>The compressive strength of concrete is a function of components and age. A sample of 1030 different combinations was published (<a target="_blank" href="https://doi.org/10.1016/S0008-8846(98)00165-3">Source</a>) and is used in this project. It contains the following variables:</p>
				<ol>
					<li>"cement" - Portland cement in kg/m3</li>
					<li>"slag" - Blast furnace slag in kg/m3</li>
					<li>"fly_ash" - Fly ash in kg/m3</li>
					<li>"water" - Water in liters/m3</li>
					<li>"superplasticizer" - Superplasticizer additive in kg/m3</li>
					<li>"coarse_aggregate" - Coarse aggregate (gravel) in kg/m3</li>
					<li>"fine_aggregate" - Fine aggregate (sand) in kg/m3</li>
					<li>"age" - Age of the sample in days</li>
					and Finally, the <strong>Strength</strong> in Megapascals. 
				</ol>
				<h2>Objective</h2>
				<p>The objective of this project is to identify key component which affect its compressive strength and develop a predictive model for future use.</p>
				<p>The model <strong> should be interpretable</strong>, hence multivariate linear regression is chosen as the ML algorithm.</p>

				<h2>Data Exploration and Visualization</h2>
				<p>I created a correlation plot superimposed by a heatmap to visualize the linear relationships among the input variables.</p>
				<p> <img src="images/concrete/correlation_all.png" alt=""> </p>


				<p>Following observations are made from this analysis:</p>

				<ul>
					<li>'Cement' is the <strong>best predictor</strong> for concrete strength.</li>
					<li>'Superplasticizer' shows <strong>medium</strong> correlation with compressive strength.</li>
					<li>'Slag', 'fly_ash' are very <strong>weak</strong> predictors so <strong>can be omitted</strong>.</li>
					<li>'Water' shows a <strong>weak</strong> negative correlation with strength.</li>
				</ul>
				<h3>Multicollinearity:</h3>
				<ul>
					<li>'Superplasticizer' and 'fly_ash' shows some <strong>medium</strong> correlation (r=.38) between them.</li>
					<li>'Water' and 'superplasticizer' shows <strong>strong negative correlation</strong> between them (r=-.66).</li>
				</ul>
				<p>I dropped ‘fly_ash’ as it was weakly correlated to target variable (strength). Of 'Water' and 'Superplasticizer', I dropped Water which has weaker correlation with ‘Strength’.</p>
				<blockquote> The final model contained 5 features including: <strong>Cement, Superplasticizer, Coarse Aggregate, Fine Aggregate, and Age.</strong></blockquote>

				<h2> Prior Knowledge </h2>
				<p> A review of existing literature on the subject indicated that ageing has little effect on concrete strength after 90 days <a target="_blank" href="https://www.cement.org/learn/concrete-technology/concrete-construction/curing-in-construction">(Source)</a>. Moreover, typical ageing days for concrete are 1, 7, 28 and 90 days as shown in the following figure. Hence, I decided to bucket the 'Age' column into the above 4 categories. This choice will help the learning algorithm.</p>
					<p> <img src="images/concrete/concrete_days.png" alt="" /> </p>
					
<!-- <pre>
	<code> 
		DF['Age'].head()

		# Convert Age into set 4 categories 
		# From 0 to 7 days is Cat. 1
		# From 8 to 28 days is Cat. 2
		# From 29 to 90 days is Cat. 3
		# Anything over 90 days is Cat. 4

		# Define the bins and the labels for each bin
		bins = [0, 8, 29, 91, 400] 
		labels = [1, 2, 3, 4]   
		DF['Age_bins'] = pd.cut(DF['Age'], bins=bins, labels=labels, right=False)
</code>
</pre> -->
		<!-- - Dont do one-hot encoding. Will lead to multicollinearity.  -->

		<p> I then split the data into training and testing sets to evaluate model's predictive capacity. An <strong>OLS linear regression model</strong> was created using '<strong>statsmodels</strong>' library. </p>

		<h2> Model Results and Interpretation </h2>
		<p> The effect of 'Coarse Agg' is minimal and not statistically significant (p=.862) so can be neglected. The coefficients for other four components are significant we can form an empirical equation using them as: </p>

		<p> <img src="images/concrete/coeffs.png" alt=""> </p>

		<p> Strength (MPa) = \(0.072 \times\) Cement + \(0.94 \times\) Superplasticizer - \(0.014 \times\) Fine aggregate + \(9.6 \times\) (Age category) </p>
		<p> The <strong>skew</strong> of the resulting residuals is small (0.442). The <strong>Kurtosis</strong> value is closer to the target value (3.47). </p>
		<h2> Model Evaluation </h2>
		<p> The R2 scores for the model are <strong>65%</strong> and <strong>67%</strong> for training and test set respectively. The model has a typical error (<strong>RMSE</strong>) of <strong>9.5 MPa.</strong> </p>

	
		<p> <img src="images/concrete/regression_plot.png" alt=""> </p>

The residual plot shows a random scatter of points forming an approximately constant width band around the identity line. This means that both the assumption of <strong>linearity</strong> and <strong>homoscedasticity</strong> are met. 

		<p> <img src="images/concrete/residual.png" alt=""> </p>



			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>